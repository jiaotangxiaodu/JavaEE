<!DOCTYPE html><!--1.HTML5的文档约束-->
<html>
	<head>
		<!--2.三个meta文件-->
		<meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width,initial-scale=2,minimum-scale=1,maximum-scale=5,user-scalable=yes" />
		<title></title>
		
		<!--3.bootstrap的css文件-->
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
		<!--4.JQuery类库-->
		<script src="js/jquery-1.11.3.js" type="text/javascript" charset="utf-8"></script>
		<!--5.bootstarp类库-->
		<script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			.bor{
				border: 3px solid #D9EDF7;
				border-radius: 16px;
				background-color: #D9EDF7;
			}
			.top {
				margin-top: 30px;
			}
			.length{
				width: 276px;
				height: 40px;
				margin-bottom: 15px;
			}
			.topHeadTop{
				 margin-top: 16px;
			}
			.contentDiv{
				height: 50px;
			}
			.contentBtn{
				height: 40px;
				width: 80px;
			}
			.contentFontColor{
				color: #6E6EAB;
			}
			.contentAlign{
				align-content: center;
			}
			.footerMargin{
				margin-top: 10px;
				margin-bottom: 20px;
			}
		</style>
		<script type="text/javascript">
			var temp = 0
		 	var names =  new Array("徐龙文","林荣新","杨斌","陈东东","何昌稳","石志敏", "卢隆学", 
			"张健", "莫林放", "吴勇福", "史子巍", "苏太", "李良熙","操欣煌",
			"唐亮","陈康","梁启立", "赵萌","李相元",
			"陈名文", "焦凯", "章水娟","朱二坤","梁志琪","苏荣源","周林","张祥飞", "徐圳强",
			"米建圆","张建","李佳宏", "陈浩扬","罗伟",
			"张柯毅", "曹航", "王旭","田刚","林建绸","杨学增","方喜涛", "汪婷婷", "王藏",
			"唐志杰","翁峥锴","罗腾","梁桃源","袁华",
			"梁建伟", "肖世柱","刘正伟","钟诚意","康洪斌","刘志鹏", "万功勋", "聂帅",
			"罗利胜","谢日周","李范","尹飞月", "詹杰", "熊学新","周本亮","王耀波",
			"黄家盛", "金帆","张智林","张化仁","薛木生","王关锐","周振如","陈新斌",
			"杨军勇", "卓海航", "冯志雄","卢东","周嘉乐","杨士明", "张航铭");
		 	
		 /*	var genders = new Array("男    学号：1号","男    学号：2号","男    学号：3号","男    学号：4号","男    学号：5号",
		 	"男    学号：6号","男    学号：7号","男（一号雷）    学号：8号","男    学号：9号","男 （班长）   学号：10号","男    学号：11号",
		 	"男    学号：12号","男    学号：13号","男    学号：14号","男    学号：15号","男    学号：16号",
		 	"男    学号：17号","男    学号：18号","男    学号：19号","男    学号：20号","男    学号：21号",
		 	"男    学号：22号","男    学号：23号","男    学号：24号","男    学号：25号","男    学号：26号",
		 	"男    学号：27号","男    学号：28号","男    学号：29号","男    学号：30号","男    学号：31号",
		 	"男    学号：32号","男    学号：33号","男    学号：34号","男    学号：35号","男    学号：36号",
		 	"男    学号：37号","男    学号：38号","男    学号：39号","男    学号：40号","男    学号：41号",
		 	"男    学号：42号","男    学号：43号","女    学号：44号","男    学号：45号","男    学号：46号",
		 	"男    学号：47号","男    学号：48号","男    学号：49号","女    学号：50号","男    学号：51号",
		 	"男    学号：52号","男    学号：53号","男    学号：54号","男    学号：55号","男    学号：56号",
		 	"男    学号：57号","女（生活委员）   学号：58号","男    学号：59号","女    学号：60号","男    学号：61号",
		 	"男    学号：62号","男    学号：63号","男    学号：64号","男    学号：65号","女    学号：66号",
		 	"男    学号：67号","男    学号：68号","男    学号：69号","男    学号：70号","男    学号：71号",
		 	"男    学号：72号","男    学号：73号","男    学号：74号","女    学号：75号","男    学号：76号",
		 	"男    学号：77号","女    学号：78号","男    学号：79号","男    学号：80号","男    学号：81号",
		 	"男（二号雷）    学号：82号","男    学号：83号");*/
			$(function(){
				//1.页面元素对象构造
				//1.1 容器和行
				var $conter = $("<div></div>");
				$conter.addClass("container top bor");
				
				for(var i = 0; i < 3; i ++ ){
					var $rown = $("<div></div>");
					$rown.addClass("row");
					$rown.prop("id","row"+(i+1));
					
					$rown.appendTo($conter);
					$conter.appendTo($("body"));
				}
				
				//1.2 插第一row
				var $divHead = $("<div></div>");
				$divHead.addClass("col-lg-12  col-sm-12 col-md-12 col-sx-12 topHeadTop");
				var $h2 = $("<h2 align='center'></h2>");
				var $bf = $("<b>点名器</b>");
				
				$bf.addClass("contentFontColor");
				
				$bf.appendTo($h2);
				$divHead.append($h2);
				$("#row1").append($divHead);
				
				//1.2.1 隐藏信息显示栏
				var $divHeadRight = $("<div></div>");
				$divHeadRight.addClass("col-lg-3 col-lg-offset-8");
				
				var $hri = $("<input/>");
				$hri.addClass("form-control length navbar-right")
				$hri.prop("id","inputHeadRight");
				$hri.prop("placeholder","请选择大神姓名");
				$hri.prop("disabled","disabled");
				
				$hri.appendTo($divHeadRight);
				$divHeadRight.appendTo($("#row1"));
				 
				
				//1.3 插入主体部分，第二row
				$.each(names,function(index,ele){
					var $div = $("<div></div>");
					$div.addClass("col-lg-1  col-sm-1 col-md-1 col-sx-1 contentDiv ");
					
					var $inp = $("<input/>");
					$inp.addClass("btn btn-default contentBtn contentFontColor");
					$inp.prop("id","num"+index);
					$inp.val(this);
					
					$div.append($inp);
					$("#row2").append($div);
				});
				
				//1.4 插入底部按钮，第三row
				var $divFooter = $("<div></div>");
				$divFooter.addClass("col-lg-6 col-lg-offset-3");
				
				var $btn= $("<buton></button>");
				$btn.addClass("btn btn-primary btn-lg btn-block footerMargin");
				$btn.prop("id","dianJi");
				$btn.text("开始点击");
				
				$divFooter.append($btn);
				$("#row3").append($divFooter);
				
				//2.第二部，按钮绑定点击事件
				//2.1 初始化点击事件所需数据
		 		var cimi = 1;
		 		for(var i = 0; i < (names.length+"").length ;i ++){
		 			cimi *= 10;
		 		}
				var timer = null;
				var $dianJI = $("#dianJi");
				//2.2 绑定点击事件
				$dianJI.click(function(){
					if(timer == null){
						$dianJI.html("停止点名");
						start();		
					}else{
						$dianJI.html("开始点名");
						
						//停止事假触发
						for(var i = 4 ; i < 13 ; i++){
							var times = 3 * i * i * i;
					
							setTimeout(stop,times);
							

						};
				
						
						clearTimeout(timer);
						timer=null;
					}
				});
				//2.3 随机改变active样式，同时显示该对象学生信息
				function start(){
					$("input").removeClass("active");
					
					var num = Math.floor(Math.random() * cimi % names.length);
					var inp = $("#num"+num);
					
					inp.addClass("active");
					$("#inputHeadRight").prop("placeholder",inp.val()/*+"："+genders[num]*/);
					
					timer = setTimeout(start,100);
				}
				
				//2.4停止点名函数,点击停止9次之后停止调用时间定时器
				var count=9;
				function stop(){
					count--;
					$("input").removeClass("active");
					
					var num = Math.floor(Math.random() * cimi % names.length);
					
				
						if(temp==0){
							var inp = $("#num"+num);
							
							
							inp.addClass("active");
							if(count==0){
								if(temp!=num){
										inp.css("background-color","red");
								count=9;
								var removeName=$(names).remove(inp.val());
	//							console.log(removeName);
								temp = num;
								console.log("第一次是:"+temp)
						
									
								}else{
									stop()
								}
							
							}
							$("#inputHeadRight").prop("placeholder",inp.val()/*+"："+genders[num]*/);
						}else{
							var inp = $("#num"+num);
							
							
							inp.addClass("active");
							if(count==0){
								if(temp!=num){
										inp.css("background-color","red");
								count=9;
								var removeName=$(names).remove(inp.val());
	//							console.log(removeName);
								temp = num;
								console.log("第一次是:"+temp)
						
									
								}else{
									stop()
								}
							
							}
							$("#inputHeadRight").prop("placeholder",inp.val()/*+"："+genders[num]*/);
						}
					
					
						
				}
				
				//清除单个人名按钮点击事件时的重复active样式，并显示该元素学生信息。
				$("input").click(function(){
					$("input").removeClass("active");
					$(this).addClass("active");
					var thId = $(this).prop("id");
					var num = parseInt(thId.substr(3));
					$("#inputHeadRight").prop("placeholder",this.value/*+"："+genders[num]*/);
				});
			});
		</script>
	</head>
	<body>
	</body>
</html>
